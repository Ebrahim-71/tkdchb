{# admin/reports/_club_students_print.html #}
<style>
  /* صفحه و شروع از بالا */
  @page { size: A4 landscape; margin: 8mm; }
  html, body { margin: 0; padding: 0; background: #fff; }

  /* تایپوگرافی و ظرف اصلی */
  .cs-print{ font-family: Tahoma, Vazirmatn, Arial, sans-serif; margin: 0; }
  .cs-print h2{ margin: 0 0 6px; font-weight: 700; font-size: 16px; }
  .cs-print .sub{ margin: 0 0 8px; color: #475569; font-size: 12px; }
  .cs-print .num{ font-variant-numeric: tabular-nums; direction: ltr; }

  /* جدول */
  .cs-print table{ width: 100%; border-collapse: collapse; table-layout: fixed; font-size: 11px; }
  .cs-print th, .cs-print td{
    border: 1px solid #dfe3e8; padding: 4px 6px; text-align: center;
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
  }
  .cs-print thead th{ background: #f3f4f6; }

  /* تکرار هدر و جلوگیری از شکست ردیف‌ها */
  .cs-print thead{ display: table-header-group; }
  .cs-print tfoot{ display: table-footer-group; }
  .cs-print tr{ page-break-inside: avoid; }

  /* دقیقاً هر ۲۵ سطر یک شکست صفحه (به‌جز آخرین) */
  .cs-print tbody tr:nth-child(30n):not(:last-child){ page-break-after: always; }

  /* عرض‌های پیشنهادی (جمع ≈ 100%) */
  .w-name{width:22%} .w-belt{width:8%} .w-ncode{width:12%} .w-coach{width:14%}
  .w-dob{width:10%} .w-cnt{width:6%} .w-g{width:6%} .w-s{width:6%} .w-b{width:6%}
  .w-rcomp{width:5%} .w-rtot{width:5%}
</style>

<div class="cs-print">
  <h2>شاگردان باشگاه: {{ club_name|default:"-" }}</h2>
  <div class="sub">تعداد شاگردها: <span class="num">{{ rows|length }}</span></div>

  <table>
    <thead>
      <tr>
        <th class="w-name">نام و نام‌خانوادگی</th>
        <th class="w-belt">کمربند</th>
        <th class="w-ncode">کدملی</th>
        <th class="w-coach">نام مربی</th>
        <th class="w-dob">تاریخ تولد</th>
        <th class="w-cnt">مسابقات</th>
        <th class="w-g">طلا</th>
        <th class="w-s">نقره</th>
        <th class="w-b">برنز</th>
        <th class="w-rcomp">رنک.مس</th>
        <th class="w-rtot">رنک.کل</th>
      </tr>
    </thead>
    <tbody>
      {% for row in rows %}
        <tr>
          <td>{{ row.full_name|default:"-" }}</td>
          <td>{{ row.belt|default:"-" }}</td>
          <td class="num">{{ row.national_code|default:"-" }}</td>
          <td>{{ row.coach_name|default:"-" }}</td>
          <td class="num">{{ row.birth_date|default:"-" }}</td>
          <td class="num">{{ row.competitions|default:"0" }}</td>
          <td class="num">{{ row.medal_gold|default:"0" }}</td>
          <td class="num">{{ row.medal_silver|default:"0" }}</td>
          <td class="num">{{ row.medal_bronze|default:"0" }}</td>
          <td class="num">{{ row.rank_comp|default:"0" }}</td>
          <td class="num">{{ row.rank_total|default:"0" }}</td>
        </tr>
      {% empty %}
        <tr><td colspan="11">موردی یافت نشد.</td></tr>
      {% endfor %}
    </tbody>
  </table>


</div>
